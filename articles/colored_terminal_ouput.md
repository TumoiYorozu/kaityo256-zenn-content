---
title: "色付きdiffをPDFで保存する"
emoji: "🤖"
type: "tech" # tech: 技術記事 / idea: アイデア
topics: ["diff"]
published: false
---

## TL;DR

ターミナルの色付きの出力(例えば色付きdiff等)をPDFとして保存するには、一度ahaでHTMLにしてからブラウザでPDFにすると良い。

## 何がやりたいか

ターミナルで色付きの結果が出て、それを色付きのまま保存したいことがある。典型的な例が色付きdiffだ。いま、ここに「寿限無」の二つのバリエーションがあったとして、その違いを見たいとする。

`jugemu1.txt` [寄席 正岡容 ー青空文庫ー](https://www.aozora.gr.jp/cards/001313/files/47599_58902.html)

```txt
寿限無寿限無五光の摺り切れ
海砂利水魚の水魚末雲来末の風来末食う寝る所に住む所
やぶら小路藪柑子
パイポパイポのグーリンダイグーリンダイのシューリンガンシューリンガンのポンポコピーポンポコナーの
長久命の長助
```

`jugemu2.txt` [糞尿譚 火野葦平 ー青空文庫ー](https://www.aozora.gr.jp/cards/001488/files/51168_53838.html)

```txt
寿限無寿限無五光の摺すりきれず
海砂利水魚水魚末雲来末風来末食来寝るところに住むところ
や油小路藪小路やぶこうじ
ぱいぽぱいぽぱいぽのしゅうりん丸しゅうりん丸しゅうりん丸のぐうりんだいのぽんぽこぴいぽんぽこなの
長久命の長助
```

単語単位のdiffを取りたいので、`icdiff`を使おう。

```sh
icdiff jugemu1.txt jugemu2.txt
```

すると、こんな出力を得る。

